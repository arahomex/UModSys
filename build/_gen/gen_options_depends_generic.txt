begin project-group umodsys_Depends
  set path-tmp $(path-root)/tmp
  set path-bin $(path-root)/bin
  set path-include $(path-root)/include

  set path-depends $(path-root)/depends
  set path-d-SDL2 $(path-depends)/SDL2
  set path-d-zlib $(path-depends)/zlib
  set path-d-png $(path-depends)/libpng
  set path-d-jpeg $(path-depends)/jpeglib

  option project-order umodsysc

  begin project all
    mode lib
    #
    depend lib_SDL2
    #
    depend lib_zlib
    depend lib_libpng
    depend lib_jpeglib
    #
#    depend libSquirrel
#    depend libTinyC
#    depend libAngelScript
#    depend libLua
    #
  end

  begin project lib_zlib
    mode shared
    #
    includes $(path-include)
    includes $(path-include)/$(ppath)
    includes $(path-d-zlib)
    #
    begin file-group include
      begin mask $(path-skip) $(path-d-zlib)
        include *.h
      end
    end
    begin file-group src
      begin mask $(path-skip) $(path-d-zlib)
        include *.c
      end
    end
  end

  begin project lib_libpng
    mode shared
    #
    includes $(path-include)
    includes $(path-include)/$(ppath)
    includes $(path-d-zlib)
    includes $(path-d-png)
    depend lib_zlib
    #
    begin file-group include
      begin mask $(path-skip) $(path-d-png)
        include *.h
      end
    end
    begin file-group src
      begin mask $(path-skip) $(path-d-png)
        include *.c
      end
    end
  end

  begin project lib_jpeglib
    mode shared
    #
    includes $(path-include)
    includes $(path-include)/$(ppath)
    includes $(path-d-jpeg)
    #
    begin file-group include
      begin mask $(path-skip) $(path-d-jpeg)
        include *.h
      end
    end
    begin file-group src
      begin mask $(path-skip) $(path-d-jpeg)
        include j*.c
        exclude jmemdos.c jmemmac.c jmemname.c jmemnobs.c
        exclude jpegtran.c
      end
    end
  end

  begin project lib_SDL2
    mode shared
    #
    includes $(path-include)
    includes $(path-include)/$(ppath)
    includes $(path-d-SDL2)/include
    #
    begin file-group include
      begin mask $(path-skip) $(path-d-SDL2)/include
        include *.h
      end
    end
    begin file-group src
      begin mask $(path-skip) $(path-d-SDL2)/src
        include *.c *.h
      end
      begin file-group atomic
        begin mask $(path-skip) $(path-d-SDL2)/src/atomic
          include *.c *.h
        end
      end
      begin file-group audio
        begin mask $(path-skip) $(path-d-SDL2)/src/audio
          include *.c *.h
        end
      end
      begin file-group cpuinfo
        begin mask $(path-skip) $(path-d-SDL2)/src/cpuinfo
          include *.c *.h
        end
      end
      begin file-group events
        begin mask $(path-skip) $(path-d-SDL2)/src/events
          include *.c *.h
        end
      end
      begin file-group file
        begin mask $(path-skip) $(path-d-SDL2)/src/file
          include *.c *.h
        end
      end
      begin file-group haptic
        begin mask $(path-skip) $(path-d-SDL2)/src/haptic
          include *.c *.h
        end
      end
      begin file-group joystick
        begin mask $(path-skip) $(path-d-SDL2)/src/joystick
          include *.c *.h
        end
      end
      begin file-group libm
        begin mask $(path-skip) $(path-d-SDL2)/src/libm
          include *.c *.h
        end
      end
      begin file-group power
        begin mask $(path-skip) $(path-d-SDL2)/src/power
          include *.c *.h
        end
      end
      begin file-group render
        begin mask $(path-skip) $(path-d-SDL2)/src/render
          include *.c *.h
        end
      end
      begin file-group stdlib
        begin mask $(path-skip) $(path-d-SDL2)/src/stdlib
#          include SDL_getenv.c
#          include SDL_iconv.c
#          include SDL_malloc.c
#          include SDL_qsort.c
#          include SDL_stdlib.c
#          include SDL_string.c
          include *.c *.h
        end
      end
      begin file-group thread
        begin mask $(path-skip) $(path-d-SDL2)/src/thread
          include *.c *.h
        end
      end
      begin file-group timer
        begin mask $(path-skip) $(path-d-SDL2)/src/timer
          include *.c *.h
        end
      end
      begin file-group video
        begin mask $(path-skip) $(path-d-SDL2)/src/video
          include *.c *.h
        end
      end
    end
  end

end
